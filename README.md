# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Jenkins Pipeline ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ ETL

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç
1. [‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô](#‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô)
2. [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Jenkins](#‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á-jenkins)
3. [‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Jenkins ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô](#‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤-jenkins-‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô)
4. [‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Git Repository](#‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°-git-repository)
5. [‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Pipeline Job](#‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á-pipeline-job)
6. [‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Credentials](#‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤-credentials)
7. [‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Pipeline ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å](#‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô-pipeline-‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å)
8. [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤](#‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°-‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤)
9. [‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô](#‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)
10. [Tips ‡πÅ‡∏•‡∏∞ Best Practices](#tips-‡πÅ‡∏•‡∏∞-best-practices)

---

## üéØ ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô

### Software Requirements
- **Java 11 ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏Å‡∏ß‡πà‡∏≤** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Jenkins)
- **Docker** (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
- **Git** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö version control)
- **Python 3.9+** (‡∏ö‡∏ô Jenkins server)
- **Access ‡∏ñ‡∏∂‡∏á SQL Server** (mssql.minddatatech.com)

### Hardware Requirements
- **RAM**: ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 4GB (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 8GB+)
- **Storage**: ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 10GB ‡∏ß‡πà‡∏≤‡∏á
- **CPU**: 2 cores ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ

### Network Requirements
- Internet access ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î plugins
- Access ‡∏ñ‡∏∂‡∏á GitHub repository
- Access ‡∏ñ‡∏∂‡∏á SQL Server (mssql.minddatatech.com:1433)

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Jenkins

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢ Docker (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

#### Step 1: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Docker
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install docker.io docker-compose
sudo usermod -aG docker $USER

# CentOS/RHEL
sudo yum install docker docker-compose
sudo systemctl start docker
sudo systemctl enable docker
```

#### Step 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Docker Compose File
```yaml
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå docker-compose.yml
version: '3.8'
services:
  jenkins:
    image: jenkins/jenkins:lts
    container_name: jenkins-etl
    ports:
      - "8080:8080"
      - "50000:50000"
    volumes:
      - jenkins_home:/var/jenkins_home
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - JAVA_OPTS=-Djenkins.install.runSetupWizard=false
    restart: unless-stopped

volumes:
  jenkins_home:
```

#### Step 3: ‡∏£‡∏±‡∏ô Jenkins
```bash
# ‡∏£‡∏±‡∏ô Jenkins
docker-compose up -d

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
docker-compose ps

# ‡∏î‡∏π logs
docker-compose logs -f jenkins
```

#### Step 4: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Jenkins
- ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà: `http://localhost:8080`
- ‡∏£‡∏≠ Jenkins ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 2-3 ‡∏ô‡∏≤‡∏ó‡∏µ)

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ö‡∏ö Native (Ubuntu)

```bash
# ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï system
sudo apt update

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Java
sudo apt install openjdk-11-jdk

# ‡πÄ‡∏û‡∏¥‡πà‡∏° Jenkins repository
curl -fsSL https://pkg.jenkins.io/debian/jenkins.io.key | sudo tee \
  /usr/share/keyrings/jenkins-keyring.asc > /dev/null

echo deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc] \
  https://pkg.jenkins.io/debian binary/ | sudo tee \
  /etc/apt/sources.list.d/jenkins.list > /dev/null

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Jenkins
sudo apt update
sudo apt install jenkins

# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Jenkins
sudo systemctl start jenkins
sudo systemctl enable jenkins

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
sudo systemctl status jenkins
```

---

## ‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Jenkins ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô

### Step 1: Jenkins Initial Setup

#### 1.1 ‡∏£‡∏±‡∏ö Initial Admin Password
```bash
# ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Docker
docker exec jenkins-etl cat /var/jenkins_home/secrets/initialAdminPassword

# ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Native install
sudo cat /var/lib/jenkins/secrets/initialAdminPassword
```

#### 1.2 ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ Jenkins
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:8080`
2. ‡πÉ‡∏™‡πà Initial Admin Password
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Continue**

#### 1.3 ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Plugins
1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Install suggested plugins**
2. ‡∏£‡∏≠‡πÉ‡∏´‡πâ plugins ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à (5-10 ‡∏ô‡∏≤‡∏ó‡∏µ)

#### 1.4 ‡∏™‡∏£‡πâ‡∏≤‡∏á Admin User
1. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Admin User:
   - **Username**: `admin`
   - **Password**: `admin123` (‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
   - **Full name**: `Jenkins Administrator`
   - **E-mail**: `admin@yourcompany.com`
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Save and Continue**

#### 1.5 ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Jenkins URL
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Jenkins URL: `http://localhost:8080/`
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Save and Finish**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Start using Jenkins**

### Step 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Additional Plugins

#### 2.1 ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà Plugin Manager
1. **Jenkins Dashboard** ‚Üí **Manage Jenkins** ‚Üí **Manage Plugins**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏ó‡πá‡∏ö **Available**

#### 2.2 ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Required Plugins
‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á plugins ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:

**Essential Plugins:**
- ‚úÖ **Pipeline Plugin** (‡∏°‡∏±‡∏Å‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß)
- ‚úÖ **Git Plugin** (‡∏°‡∏±‡∏Å‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß)
- ‚úÖ **Credentials Plugin** (‡∏°‡∏±‡∏Å‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß)

**Additional Plugins:**
- ‚úÖ **Blue Ocean** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö UI ‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏Å‡∏ß‡πà‡∏≤)
- ‚úÖ **HTML Publisher Plugin** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö reports)
- ‚úÖ **JUnit Plugin** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö test results)
- ‚úÖ **Workspace Cleanup Plugin**
- ‚úÖ **Timestamper Plugin**
- ‚úÖ **AnsiColor Plugin**
- ‚úÖ **Email Extension Plugin**

#### 2.3 ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞ Restart
1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å plugins ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Install without restart**
3. ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Restart Jenkins when installation is complete**

---

## üìÅ ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Git Repository

### Step 1: Clone ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```bash
# Clone ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ ETL
git clone https://github.com/amornpan/dataops-foundation-jenkins.git
cd dataops-foundation-jenkins

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
ls -la
```

**‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ:**
- ‚úÖ `Jenkinsfile` - Pipeline definition
- ‚úÖ `etl_main.py` - ETL script ‡∏´‡∏•‡∏±‡∏Å
- ‚úÖ `requirements.txt` - Python dependencies
- ‚úÖ `jenkins_test.py` - Test script ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Jenkins
- ‚úÖ `simple_test.py` - Simple test script
- ‚úÖ `data/README.md` - Data folder placeholder

### Step 2: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Jenkinsfile

```bash
# ‡∏î‡∏π Jenkinsfile
cat Jenkinsfile
```

**Jenkinsfile ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:**
```groovy
pipeline {
    agent any
    
    environment {
        // Database configuration
        DB_SERVER = 'mssql.minddatatech.com'
        DB_NAME = 'TestDB'
        DB_USERNAME = 'SA'
        DB_PASSWORD = credentials('mssql-password')
        // ... other config
    }
    
    stages {
        stage('üîÑ Checkout') { ... }
        stage('üêç Setup Python Environment') { ... }
        stage('üîç Code Quality Checks') { ... }
        stage('üìä Data Quality Validation') { ... }
        stage('üß™ Unit Tests') { ... }
        stage('üîå Database Connection Test') { ... }
        stage('üèóÔ∏è ETL Dry Run') { ... }
    }
    
    post { ... }
}
```

### Step 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÉ‡∏ô Local (Optional)

```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á virtual environment
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# ‡∏´‡∏£‡∏∑‡∏≠ venv\Scripts\activate  # Windows

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies
pip install -r requirements.txt

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
python jenkins_test.py
```

---

## üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Pipeline Job

### Step 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á New Item

#### 1.1 ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Jenkins Dashboard
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:8080`
2. Login ‡∏î‡πâ‡∏ß‡∏¢ admin credentials

#### 1.2 ‡∏™‡∏£‡πâ‡∏≤‡∏á New Job
1. ‡∏Ñ‡∏•‡∏¥‡∏Å **New Item** ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô
2. ‡∏Å‡∏£‡∏≠‡∏Å **Item name**: `etl-ci-pipeline`
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Pipeline**
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **OK**

### Step 2: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ Pipeline Job

#### 2.1 General Settings
‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Configuration:

**General Section:**
- ‚úÖ **Description**: `ETL Pipeline ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• Loan Data ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Star Schema`

**Build Triggers:**
- ‚úÖ **GitHub hook trigger for GITScm polling** (‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ GitHub webhooks)
- ‚úÖ **Poll SCM**: `H/5 * * * *` (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ)

**Advanced Project Options:**
- ‚úÖ **Discard old builds**
  - **Days to keep builds**: `30`
  - **Max # of builds to keep**: `20`

#### 2.2 Pipeline Configuration

**Pipeline Section:**
- **Definition**: `Pipeline script from SCM`
- **SCM**: `Git`
- **Repository URL**: `https://github.com/amornpan/dataops-foundation-jenkins.git`
- **Credentials**: (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ)
- **Branches to build**: `*/main`
- **Script Path**: `Jenkinsfile`

**Additional Behaviours:**
- ‚úÖ **Lightweight checkout** (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß)

#### 2.3 Save Configuration
‡∏Ñ‡∏•‡∏¥‡∏Å **Save** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

---

## üîê ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Credentials

### Step 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Database Credential

#### 1.1 ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà Credentials Management
1. **Jenkins Dashboard** ‚Üí **Manage Jenkins** ‚Üí **Manage Credentials**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Global credentials (unrestricted)**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Add Credentials**

#### 1.2 ‡∏™‡∏£‡πâ‡∏≤‡∏á SQL Server Password
‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
- **Kind**: `Secret text`
- **Scope**: `Global (Jenkins, nodes, items, all child items, etc)`
- **Secret**: `Passw0rd123456`
- **ID**: `mssql-password`
- **Description**: `SQL Server Password for ETL Pipeline`

‡∏Ñ‡∏•‡∏¥‡∏Å **OK**

### Step 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Git Credentials (‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Private Repository)

#### 2.1 GitHub Personal Access Token
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà GitHub ‚Üí **Settings** ‚Üí **Developer settings** ‚Üí **Personal access tokens**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Generate new token**
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å scopes:
   - ‚úÖ `repo` (Full control of private repositories)
   - ‚úÖ `admin:repo_hook` (Admin repo hooks)
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Generate token**
5. **Copy token** ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡∏à‡∏∞‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)

#### 2.2 ‡πÄ‡∏û‡∏¥‡πà‡∏° Git Credentials ‡πÉ‡∏ô Jenkins
1. ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Manage Credentials**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Add Credentials**
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - **Kind**: `Username with password`
   - **Scope**: `Global`
   - **Username**: `GitHub username ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì`
   - **Password**: `Personal Access Token ‡∏ó‡∏µ‡πà copy ‡∏°‡∏≤`
   - **ID**: `github-credentials`
   - **Description**: `GitHub Access for ETL Repository`
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **OK**

### Step 3: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Pipeline Job ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Credentials

1. ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà pipeline job `etl-ci-pipeline`
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Configure**
3. ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô **Pipeline** ‚Üí **Repository URL**
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Credentials**: `github-credentials`
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **Save**

---

## ‚ñ∂Ô∏è ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Pipeline ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å

### Step 1: ‡∏£‡∏±‡∏ô Build ‡πÅ‡∏£‡∏Å

#### 1.1 Manual Build
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà pipeline job `etl-ci-pipeline`
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Build Now**
3. ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô **Build History**

#### 1.2 ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Console Output
1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà build number (‡πÄ‡∏ä‡πà‡∏ô `#1`)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Console Output**
3. ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö real-time

### Step 2: ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à Pipeline Stages

Pipeline ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ:

#### Stage 1: üîÑ Checkout
```
=== ETL CI Pipeline Started ===
Build: 1
Branch: main
‚úÖ ETL script found
```

#### Stage 2: üêç Setup Python Environment
```
Setting up Python environment...
‚úÖ Core packages installed
```

#### Stage 3: üîç Code Quality Checks
```
Parallel execution:
- Linting (flake8)
- Code Formatting (black)
‚ö†Ô∏è Code formatting issues found
```

#### Stage 4: üìä Data Quality Validation
```
=== Data Quality Report ===
‚ö†Ô∏è Data file not found: data/LoanStats_web_small.csv
Skipping data quality validation...
```

#### Stage 5: üß™ Unit Tests
```
Running jenkins_test.py...
‚úÖ Core packages imported successfully
‚úÖ ETL function test passed: 144 columns
```

#### Stage 6: üîå Database Connection Test
```
=== Database Connection Test ===
‚ö†Ô∏è Database connection failed: [connection details]
Note: This is expected if running in CI
```

#### Stage 7: üèóÔ∏è ETL Dry Run
```
=== ETL Dry Run ===
‚úÖ ETL functions tested: 144 columns analyzed
‚úÖ Dry run completed successfully
```

### Step 3: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

#### 3.1 Build ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)
```
=== Pipeline Completed ===
Build Number: 1
Duration: 2 min 34 sec
üéâ CI Pipeline succeeded! Ready for deployment.
```

#### 3.2 Build ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß (‡∏™‡∏µ‡πÅ‡∏î‡∏á)
```
‚ùå CI Pipeline failed!
```
‚Üí ‡∏î‡∏π Console Output ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏

#### 3.3 Build ‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ (‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á)
```
‚ö†Ô∏è CI Pipeline unstable - some tests may have failed
```
‚Üí ‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ú‡πà‡∏≤‡∏ô ‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß

---

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

#### 1. **Error: mssql-password credential not found**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á credential

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
1. Manage Jenkins ‚Üí Manage Credentials
2. Add Credentials ‚Üí Secret text
3. ID: mssql-password
4. Secret: Passw0rd123456
```

#### 2. **Error: Permission denied (pip install)**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: Jenkins ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á packages

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡πÉ‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå Jenkins
sudo chown -R jenkins:jenkins /var/jenkins_home
sudo chmod +x /usr/bin/python3
```

#### 3. **Error: Data file not found**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: ‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô repository

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
- ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Git
- Pipeline ‡∏à‡∏∞ skip ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö production ‡πÉ‡∏´‡πâ‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Jenkins workspace

#### 4. **Error: Database connection failed**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: Jenkins server ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ database ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö network connectivity
ping mssql.minddatatech.com
telnet mssql.minddatatech.com 1433

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö firewall
sudo ufw status
```

#### 5. **Error: Python module not found**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: Virtual environment ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡πÉ‡∏ô Jenkinsfile, ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£ debug
sh '''
    . ${VIRTUAL_ENV}/bin/activate
    which python
    pip list
    python -c "import sys; print(sys.path)"
'''
```

### ‡∏Å‡∏≤‡∏£ Debug ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

#### 1. ‡πÄ‡∏õ‡∏¥‡∏î Debug Mode
‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô Jenkinsfile:
```groovy
environment {
    JENKINS_DEBUG = 'true'
}
```

#### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Workspace
```groovy
sh '''
    pwd
    ls -la
    echo "Python version: $(python3 --version)"
    echo "Pip version: $(pip3 --version)"
'''
```

#### 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Environment Variables
```groovy
sh '''
    env | grep -E "(DB_|PYTHON_|VIRTUAL_)"
'''
```

### Log Files ‡πÅ‡∏•‡∏∞ Monitoring

#### 1. Jenkins System Logs
```bash
# Docker
docker logs jenkins-etl

# Native
sudo tail -f /var/log/jenkins/jenkins.log
```

#### 2. Build Logs
- **Jenkins Dashboard** ‚Üí **Build History** ‚Üí **Console Output**

#### 3. Workspace Inspection
```bash
# ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏î‡∏π workspace ‡∏Ç‡∏≠‡∏á job
sudo ls -la /var/jenkins_home/workspace/etl-ci-pipeline/
```

---

## üìÖ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô

### ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Pipeline

#### 1. Manual Build
```
Jenkins Dashboard ‚Üí etl-ci-pipeline ‚Üí Build Now
```

#### 2. Build with Parameters (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
```
Jenkins Dashboard ‚Üí etl-ci-pipeline ‚Üí Build with Parameters
- Environment: DEV/STAGING/PROD
- Skip Tests: true/false
- Dry Run: true/false
```

#### 3. Scheduled Build
Pipeline ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° schedule ‡πÉ‡∏ô Jenkinsfile:
```groovy
triggers {
    cron('0 2 * * *')  // ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 2:00 AM
}
```

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

#### 1. Dashboard Overview
- **Green**: Build ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- **Red**: Build ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß  
- **Yellow**: Build ‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£
- **Gray**: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å

#### 2. Build History
```
etl-ci-pipeline ‚Üí Build History
- ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ builds ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö builds ‡∏ï‡πà‡∏≤‡∏á‡πÜ
- ‡∏î‡∏π trends ‡πÅ‡∏•‡∏∞ patterns
```

#### 3. Blue Ocean View (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
```
Jenkins Dashboard ‚Üí Open Blue Ocean
- UI ‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏Å‡∏ß‡πà‡∏≤
- ‡∏î‡∏π pipeline visualization
- ‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£ debug
```

### ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Builds

#### 1. ‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å Build
```
Build History ‚Üí [Build Number] ‚Üí Stop Build
```

#### 2. ‡∏Å‡∏≤‡∏£‡∏•‡∏ö Build ‡πÄ‡∏Å‡πà‡∏≤
```
Build History ‚Üí [Build Number] ‚Üí Delete Build
```

#### 3. ‡∏Å‡∏≤‡∏£ Rebuild
```
Build History ‚Üí [Build Number] ‚Üí Rebuild
```

### Notifications ‡πÅ‡∏•‡∏∞ Alerts

#### 1. Email Notifications
Pipeline ‡∏à‡∏∞‡∏™‡πà‡∏á email ‡πÄ‡∏°‡∏∑‡πà‡∏≠:
- ‚úÖ Build ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- ‚ùå Build ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
- ‚ö†Ô∏è Build ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥

#### 2. Slack Notifications (‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏ß‡πâ)
```
#data-engineering channel:
‚úÖ ETL Pipeline Success - Build #5
‚ùå ETL Pipeline Failed - Build #6
```

---

## üí° Tips ‡πÅ‡∏•‡∏∞ Best Practices

### Security Best Practices

#### 1. Credential Management
```
‚ùå ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏Å‡πá‡∏ö passwords ‡πÉ‡∏ô code
‚úÖ ‡πÉ‡∏ä‡πâ Jenkins Credentials ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
‚úÖ ‡πÉ‡∏ä‡πâ least privilege principle
‚úÖ ‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô passwords ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥
```

#### 2. Access Control
```
‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á user roles ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
‚úÖ ‡∏à‡∏≥‡∏Å‡∏±‡∏î access ‡∏ï‡πà‡∏≠ sensitive jobs
‚úÖ Enable audit logging
‚úÖ ‡πÉ‡∏ä‡πâ 2FA ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ
```

### Performance Optimization

#### 1. Pipeline Efficiency
```groovy
// ‡πÉ‡∏ä‡πâ parallel stages
parallel {
    stage('Test 1') { ... }
    stage('Test 2') { ... }
}

// Clean workspace ‡∏´‡∏•‡∏±‡∏á build
cleanWs()

// ‡πÉ‡∏ä‡πâ appropriate timeouts
timeout(time: 30, unit: 'MINUTES')
```

#### 2. Resource Management
```
‚úÖ ‡∏à‡∏≥‡∏Å‡∏±‡∏î concurrent builds
‚úÖ ‡πÉ‡∏ä‡πâ node labels ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö specific tasks
‚úÖ Monitor disk space ‡πÅ‡∏•‡∏∞ memory
‚úÖ Archive artifacts ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
```

### Maintenance Tasks

#### 1. Weekly Tasks
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö build success rate
- [ ] ‡∏•‡∏ö builds ‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö disk space
- [ ] Review failed builds

#### 2. Monthly Tasks
- [ ] ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Jenkins ‡πÅ‡∏•‡∏∞ plugins
- [ ] Backup Jenkins configuration
- [ ] Review ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï credentials
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö security logs

#### 3. Backup ‡πÅ‡∏•‡∏∞ Recovery
```bash
# Backup Jenkins home
docker exec jenkins-etl tar -czf /var/jenkins_home/backup.tar.gz /var/jenkins_home

# Copy backup ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤
docker cp jenkins-etl:/var/jenkins_home/backup.tar.gz ./jenkins-backup.tar.gz
```

### ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á Pipeline ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production

#### 1. ‡πÄ‡∏û‡∏¥‡πà‡∏° Environments
```groovy
parameters {
    choice(
        name: 'ENVIRONMENT',
        choices: ['DEV', 'STAGING', 'PROD'],
        description: 'Target deployment environment'
    )
}
```

#### 2. ‡πÄ‡∏û‡∏¥‡πà‡∏° Approval Steps
```groovy
stage('Deploy to Production') {
    when {
        expression { params.ENVIRONMENT == 'PROD' }
    }
    steps {
        input message: 'Deploy to Production?', ok: 'Deploy'
        // deployment steps
    }
}
```

#### 3. ‡πÄ‡∏û‡∏¥‡πà‡∏° Monitoring
```groovy
post {
    always {
        // Archive test results
        publishTestResults testResultsPattern: 'test-results.xml'
        
        // Publish coverage reports
        publishHTML([
            allowMissing: false,
            alwaysLinkToLastBuild: true,
            keepAll: true,
            reportDir: 'htmlcov',
            reportFiles: 'index.html',
            reportName: 'Coverage Report'
        ])
    }
}
```

### Troubleshooting Checklist

‡πÄ‡∏°‡∏∑‡πà‡∏≠ Pipeline ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:

#### 1. Basic Checks
- [ ] Console output ‡∏°‡∏µ error message ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?
- [ ] Credentials ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Network connectivity ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
- [ ] Disk space ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

#### 2. Environment Checks
- [ ] Python version ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Virtual environment ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Dependencies ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

#### 3. Code Checks
- [ ] Jenkinsfile syntax ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Python code ‡∏°‡∏µ syntax error ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Import statements ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

#### 4. External Dependencies
- [ ] Git repository accessible ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Database connection ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Required services running ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

---

## üéâ ‡∏™‡∏£‡∏∏‡∏õ

‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Jenkins Pipeline ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ ETL ‡πÅ‡∏•‡πâ‡∏ß ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°:

‚úÖ **‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Jenkins** ‡πÅ‡∏ö‡∏ö Docker ‡πÅ‡∏•‡∏∞ Native  
‚úÖ **‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô** ‡πÅ‡∏•‡∏∞ plugin management  
‚úÖ **‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Pipeline Job** ‡πÅ‡∏•‡∏∞ configuration  
‚úÖ **‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Credentials** ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢  
‚úÖ **‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Pipeline** ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå  
‚úÖ **‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤** ‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢  
‚úÖ **Best practices** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á  

Pipeline ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì:
- **Automate ETL process** ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠
- **Ensure code quality** ‡∏î‡πâ‡∏ß‡∏¢ automated testing
- **Deploy safely** ‡∏î‡πâ‡∏ß‡∏¢ staging environments
- **Monitor and alert** ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

**Happy CI/CD! üöÄ**

---

## üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô

‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Console Output ‡πÉ‡∏ô Jenkins
2. ‡∏î‡∏π troubleshooting section ‡πÉ‡∏ô‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ  
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Jenkins logs
4. ‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô [Jenkins Documentation](https://www.jenkins.io/doc/)
   
# ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Jenkins Pipeline

## üì∏ ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô

### 1. ‡∏´‡∏ô‡πâ‡∏≤ Jenkins Dashboard
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Jenkins                                    [üîß] [üë§] [?] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üÜï New Item    üìä People    üìà Build History             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Jobs:                                                   ‚îÇ
‚îÇ ‚úÖ etl-ci-pipeline        #5  ‚è∞ 2 min ago   üü¢ Success ‚îÇ
‚îÇ ‚ùå backup-job            #2  ‚è∞ 1 hr ago    üî¥ Failed   ‚îÇ
‚îÇ ‚ö†Ô∏è test-pipeline         #8  ‚è∞ 5 min ago   üü° Unstable ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. ‡∏´‡∏ô‡πâ‡∏≤ New Item
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Enter an item name: [etl-ci-pipeline          ]         ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ üìÅ Freestyle project                                   ‚îÇ
‚îÇ üîÑ Pipeline                          ‚Üê ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ      ‚îÇ
‚îÇ üìÇ Multi-configuration project                         ‚îÇ
‚îÇ üìã Folder                                              ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ [OK]  [Cancel]                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3. ‡∏´‡∏ô‡πâ‡∏≤ Pipeline Configuration
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ General                                                 ‚îÇ
‚îÇ ‚òë Discard old builds                                   ‚îÇ
‚îÇ   Days to keep builds: [30]                            ‚îÇ
‚îÇ   Max # of builds: [20]                                ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ Build Triggers                                          ‚îÇ
‚îÇ ‚òë Poll SCM: [H/5 * * * *]                             ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ Pipeline                                                ‚îÇ
‚îÇ Definition: [Pipeline script from SCM ‚ñº]               ‚îÇ
‚îÇ SCM: [Git ‚ñº]                                           ‚îÇ
‚îÇ Repository URL: [https://github.com/amornpan/...]      ‚îÇ
‚îÇ Credentials: [github-credentials ‚ñº]                    ‚îÇ
‚îÇ Branch: [*/main]                                        ‚îÇ
‚îÇ Script Path: [Jenkinsfile]                             ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ [Save]  [Apply]  [Cancel]                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 4. ‡∏´‡∏ô‡πâ‡∏≤ Add Credentials
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Kind: [Secret text ‚ñº]                                  ‚îÇ
‚îÇ Scope: [Global ‚ñº]                                      ‚îÇ
‚îÇ Secret: [‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢] ‚îÇ
‚îÇ ID: [mssql-password]                                   ‚îÇ
‚îÇ Description: [SQL Server Password for ETL Pipeline]    ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ [OK]  [Cancel]                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 5. ‡∏´‡∏ô‡πâ‡∏≤ Build Console Output
```
Started by user Jenkins Admin
Running in Dockerfile agent

[Pipeline] Start of Pipeline
[Pipeline] stage
[Pipeline] { (üîÑ Checkout)
[Pipeline] echo
=== ETL CI Pipeline Started ===
[Pipeline] echo
Build: 5
[Pipeline] echo
Branch: main
[Pipeline] script
[Pipeline] {
[Pipeline] fileExists
[Pipeline] echo
‚úÖ ETL script found
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage

[Pipeline] stage
[Pipeline] { (üêç Setup Python Environment)
[Pipeline] echo
Setting up Python environment...
[Pipeline] sh
+ rm -rf venv
+ python3 -m venv venv
+ . venv/bin/activate
+ python -m pip install --upgrade pip
‚úÖ Core packages installed
[Pipeline] }
[Pipeline] // stage

[Pipeline] stage
[Pipeline] { (üß™ Unit Tests)
[Pipeline] echo
Running jenkins_test.py...
[Pipeline] sh
=== Jenkins-Friendly ETL Tests ===
--- Basic Imports ---
‚úÖ Core packages imported successfully
--- ETL Functions ---
‚úÖ ETL function test passed: 144 columns
--- Database Connection ---
‚ö†Ô∏è Database connection failed: connection timeout
Note: This is expected if running in CI
===============================================
üìä Test Results Summary:
   Basic Imports: ‚úÖ PASS
   ETL Functions: ‚úÖ PASS  
   Database Connection: ‚úÖ PASS
Overall: 3/3 tests passed (100%)
üéâ Tests completed successfully!
[Pipeline] }
[Pipeline] // stage

[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] script
[Pipeline] {
[Pipeline] echo
=== Pipeline Completed ===
[Pipeline] echo
Build Number: 5
[Pipeline] echo
Duration: 2 min 34 sec
[Pipeline] }
[Pipeline] // script
[Pipeline] echo
üéâ CI Pipeline succeeded! Ready for deployment.
[Pipeline] }
[Pipeline] // stage
[Pipeline] End of Pipeline
Finished: SUCCESS
```

### 6. ‡∏´‡∏ô‡πâ‡∏≤ Blue Ocean View
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ etl-ci-pipeline                                  #5     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [üîÑ]‚îÄ[üêç]‚îÄ[üîç]‚îÄ[üìä]‚îÄ[üß™]‚îÄ[üîå]‚îÄ[üèóÔ∏è]                    ‚îÇ
‚îÇ  2s   25s  15s  8s   12s  5s   7s                      ‚îÇ
‚îÇ  ‚úÖ   ‚úÖ   ‚ö†Ô∏è   ‚úÖ   ‚úÖ   ‚ö†Ô∏è   ‚úÖ                        ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ Total Duration: 2m 34s                                 ‚îÇ
‚îÇ Status: ‚úÖ SUCCESS                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üéØ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á (Step by Step)

### ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Pipeline ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å

#### Step 1: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Jenkins
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà: `http://your-jenkins-server:8080`
2. Login ‡∏î‡πâ‡∏ß‡∏¢ username/password ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ
3. ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Dashboard

#### Step 2: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Pipeline Job
1. ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Dashboard ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà `etl-ci-pipeline`
2. ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ builds ‡∏Ç‡∏≠‡∏á job ‡∏ô‡∏µ‡πâ

#### Step 3: ‡∏£‡∏±‡∏ô Build
1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **"Build Now"** ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢
2. Build ‡πÉ‡∏´‡∏°‡πà‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÉ‡∏ô **Build History**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç build (‡πÄ‡∏ä‡πà‡∏ô `#1`) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

#### Step 4: ‡∏î‡∏π Console Output
1. ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ build ‡∏Ñ‡∏•‡∏¥‡∏Å **"Console Output"**
2. ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ö‡∏ö real-time ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
3. ‡∏£‡∏≠‡∏à‡∏ô pipeline ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à

### ‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

#### Build ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (üü¢ SUCCESS)
```
‚úÖ ‡∏ó‡∏∏‡∏Å stage ‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏°‡∏î
‚úÖ ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÉ‡∏ô build history
‚úÖ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "üéâ CI Pipeline succeeded!"
```

#### Build ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß (üî¥ FAILED)
```
‚ùå ‡∏°‡∏µ stage ‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
‚ùå ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡πÉ‡∏ô build history  
‚ùå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "‚ùå CI Pipeline failed!"
‚ùå ‡∏î‡∏π Console Output ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏
```

#### Build ‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ (üü° UNSTABLE)
```
‚ö†Ô∏è ‡∏ö‡∏≤‡∏á test ‡∏ú‡πà‡∏≤‡∏ô ‡∏ö‡∏≤‡∏á test ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
‚ö†Ô∏è ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÉ‡∏ô build history
‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "‚ö†Ô∏è CI Pipeline unstable"
```

## üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Build ‡∏ï‡∏¥‡∏î "Pending"
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: Build ‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏Ñ‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ "Pending"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- Jenkins agent ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°
- Resource ‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö **Manage Jenkins** ‚Üí **Manage Nodes**
2. ‡∏î‡∏π‡∏ß‡πà‡∏≤ agent online ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
3. ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó Jenkins ‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Credentials not found"
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: 
```
ERROR: mssql-password
Finished: FAILURE
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡πÑ‡∏õ **Manage Jenkins** ‚Üí **Manage Credentials**
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ credential ID ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á credential ‡πÉ‡∏´‡∏°‡πà‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Python Module ‡πÑ‡∏°‡πà‡∏û‡∏ö
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**:
```
ModuleNotFoundError: No module named 'pandas'
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö virtual environment ‡πÉ‡∏ô pipeline
2. ‡∏î‡∏π Console Output ‡∏™‡πà‡∏ß‡∏ô "Setup Python Environment"
3. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç requirements.txt ‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô

## üìä ‡∏Å‡∏≤‡∏£ Monitor ‡πÅ‡∏•‡∏∞ Maintenance

### ‡∏Å‡∏≤‡∏£‡∏î‡∏π Trends
```
Jenkins Dashboard ‚Üí etl-ci-pipeline ‚Üí Trend
```
‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô:
- Build success rate
- Build duration trends
- Test result trends

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Notifications
1. **Configure job** ‚Üí **Post-build Actions**
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° **E-mail Notification**
3. ‡∏Å‡∏£‡∏≠‡∏Å email addresses ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

### ‡∏Å‡∏≤‡∏£ Backup
```bash
# Backup Jenkins configuration
docker exec jenkins-etl tar -czf /tmp/jenkins-backup.tar.gz /var/jenkins_home

# Copy ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤
docker cp jenkins-etl:/tmp/jenkins-backup.tar.gz ./
```

## üéØ Next Steps

‡πÄ‡∏°‡∏∑‡πà‡∏≠ Pipeline ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:

1. **‡πÄ‡∏û‡∏¥‡πà‡∏° Stages ‡πÉ‡∏´‡∏°‡πà** ‡πÄ‡∏ä‡πà‡∏ô deployment, integration tests
2. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Webhooks** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö auto-trigger ‡∏à‡∏≤‡∏Å Git
3. **‡∏™‡∏£‡πâ‡∏≤‡∏á Multi-branch Pipeline** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö development branches
4. **‡πÄ‡∏û‡∏¥‡πà‡∏° Security scanning** ‡πÅ‡∏•‡∏∞ compliance checks
5. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Monitoring** ‡πÅ‡∏•‡∏∞ alerting ‡∏ó‡∏µ‡πà‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏∂‡πâ‡∏ô

Pipeline ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CI/CD ‡πÉ‡∏ô Data Engineering!
